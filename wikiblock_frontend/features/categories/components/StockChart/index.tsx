import dayjs from "dayjs";
import Highcharts, { Options } from "highcharts";
import React from "react";
const ReactHighstock = require("react-highcharts/ReactHighstock.src");

import { data } from "./data";

const config: Options = {
  chart: {
    height: 500,
  },
  title: {
    text: "AAPL stock price by minute",
    style: {
      fontFamily: 'SFProText',
    }
  },

  subtitle: {
    text: "Using ordinal X axis",
  },

  credits: {
    enabled: false,
  },
  colors: ["#EF4266", '#3BBCB2', "#B7B1E1", '#FCDD4E', "#00C3F2", '#006199'],
  series: [
    {
      name: "AAPL",
      type: "area",
      // data: data as any,
      data: [

        [20683397.46],
        [19593265.83],
        [20348593.8],
        [20853030.98],
        [21365989.01],
        [20825932.71],
        [21419595.43],
        [21123103.21],
        [21303881.51],
        [22132019.54],
        [21506629.84],
        [20843668.25],
        [21006118.83],
        [25450895.6],
        [24966321.32],
        [25510711.54],
        [30917326.57],
        [34266337.82],
        [33934447.97],
        [34706784.72],
        [32437541.83],
        [30588993.11],
        [30232330.29],
        [32231109.07],
        [30558876.87],
        [38106741.15],
        [38127050.7],
        [41018122.45],
        [42666367.93],
        [54308714.47],
        [56973526.52],
        [91869015.18],
        [119337114.87],
        [163889358.26],
        [192278986.94],
        [144687948.1],
        [151057850.07],
        [162984474.58],
        [170384509.52],
        [163793798.69],
        [141956271.19],
        [132782911.44],
        [125330244.23],
        [117652261.05],
        [97259488.93],
        [85912339.09],
        [210380211.79],
        [247246736.99],
        [288632326.01],
        [298293171.58],
        [296269445.02],
        [289859176.73],
        [287623958.2],
        [285830545.35],
        [293646295.94],
        [297671734.49],
        [297124969.66],
        [288111416.04],
        [289485932.05],
        [289122060.57],
        [243870379.14],
        [215966550.7],
        [205831818.77],
        [213589099.25],
        [209245679.38],
        [205232545.82],
        [200072199.51],
        [198637028.8],
      ],
      // size: 30,
    },
    {
      name: "HUYHUNG",
      type: "area",
      // data: data as any,
      data: [[3563039569.54],
      [3487413590.00999],
      [3621522430.51],
      [3693465628.68],
      [3884271553.27999],
      [3820048759.06],
      [3868931337.75],
      [3891000589.21],
      [4006367089.18],
      [4094813977.73],
      [4038679612.2],
      [4052794956.39],
      [4238487108.10999],
      [4674733202.99],
      [4975033453.05999],
      [5022882839.67],
      [5263524520.32],
      [5296400621.07],
      [5294622880.67999],
      [5446745083.14],
      [5380310220.16],
      [5259092484.34],
      [5339917077.1],
      [5444671684.19],
      [5617851956.1],
      [5740370137.28],
      [5767287495.09],
      [6132443738.59],
      [6432739067.64],
      [6811292425.33],
      [7199935686.04999],
      [8181339533.44999],
      [7941532448.9],
      [7788357156.17],
      [7449923372.99],
      [6345621295.04],
      [6642830433.62999],
      [6553954657.09],
      [6486001948.9],
      [6677938420.91],
      [7277448686.13],
      [7307093771.30999],
      [7521351875.98],
      [7335377523.53],
      [7551864612.10999],
      [7022245896.46999],
      [7111500983.85],
      [7519555948.69],
      [8081964953.28],
      [8566817960.6],
      [8635691479.47],
      [8094321390.7],
      [8156296950.34999],
      [8310541344.24],
      [8513945321.17999],
      [8792621447.74],
      [9078632104.82],
      [9016796725.42],
      [9216285558.16],
      [9113900456.93999],
      [8992345529.25],
      [9127941055.95],
      [8677761753.94999],
      [8863252170.64],
      [8820186815.55],
      [8667017079.42],
      [8321268078.45999],
      [8127060001.58],
      ],
      // size: 30,
    },
    {
      name: "HUYHUNG1",
      type: "area",
      data: [
        [9019227877.13],
        [9208148175.92999],
        [9153908050.77],
        [9241569705.49],
        [9184400691.83],
        [9267220107.59999],
        [9494106861.39],
        [10114795842.56],
        [10144176084.63],
        [10283318237.85],
        [10799091794.12],
        [10850679111.29],
        [11283326025.9],
        [11110033848.41],
        [11414575732.3499],
        [11247873385.1199],
        [11275057252.81],
        [11360288882.45],
        [11002605553.36],
        [11194868831.55],
        [11159699199.6199],
        [11832806378.62],
        [11844658462.83],
        [11926961641.07],
        [12051154736.42],
        [12069626628.1999],
        [11926382299.22],
        [10799139098.37],
        [10692101784.26],
        [11013776321.18],
        [11526203873.69],
        [12206645778.5999],
        [12326521256.36],
        [12329590313.59],
        [12607941800.28],
        [12094342423.9399],
        [12338366554.95],
        [12406284870.22],
        [12508758696.15],
        [12176301338.14],
        [12070717091.72],
        [11922092384.14],
        [11620041591.5399],
        [12060655131.71],
        [12425519440.47],
        [12399595667.75],
        [12705660552.4499],
        [12864868152.28],
        [13427678203.14],
        [13366114749.6199],
        [13777839626.57],
        [13563793724.15],
        [13091729630.59],
        [13346852590.32],
        [13375277668.3599],
        [13194107982.49],
        [13833333101.27],
        [14001952570.96],
        [14116484565.01],
        [14873303915.59],
        [14890858370.03],
        [14380255609.66],
        [14765489710.08],
        [14813864074.62],
        [15098831181.0799],
        [16663809466.23],
        [17487567577.86],
        [19123785940.99],
      ]
    },
  ],

  // tooltip: {
  //   formatter: function (this) {
  //     // @ts-ignore
  //     return `${this.y}<br></br>${dayjs(this.x).format("DD/MM/YYYY")}`;
  //   },
  //   useHTML: true,
  // },
  tooltip: {
    pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.percentage:.1f}%</b> ({point.y:,.1f} billion Gt)<br/>',
    shared: true,
    split: true,
    enabled: true
  },
  xAxis: [
    {
      labels: {
        formatter(this) {
          return `${dayjs(this.value).format("DD/MM/YYYY")}`;
        },
      },
    },
  ],
  yAxis: [
    {
      labels: {
        formatter(this) {
          return `${this.value}`;
        },
      },
    },
  ],
  responsive: {
    rules: [
      {
        condition: {
          maxWidth: 500,
        },
        chartOptions: {
          chart: {
            height: 400,
          },
          subtitle: {
            text: undefined,
          },
        },
      },
    ],
  },
};

const StockChart = () => {
  return (
    <div className="w-full h-full">
      <ReactHighstock config={config} />
    </div>
  );
};

export default StockChart;
